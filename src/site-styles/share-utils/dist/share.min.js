var shareUtils=function(t){"use strict";function e(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}var n,r=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function o(t){if(!(e=r.exec(t)))throw new Error("invalid format: "+t);var e;return new a({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function a(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function i(t,n){var r=e(t,n);if(!r)return t+"";var o=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+o:o.length>a+1?o.slice(0,a+1)+"."+o.slice(a+1):o+new Array(a-o.length+2).join("0")}o.prototype=a.prototype,a.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var s={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return i(100*t,e)},r:i,s:function(t,r){var o=e(t,r);if(!o)return t+"";var a=o[0],i=o[1],s=i-(n=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,c=a.length;return s===c?a:s>c?a+new Array(s-c+1).join("0"):s>0?a.slice(0,s)+"."+a.slice(s):"0."+new Array(1-s).join("0")+e(t,Math.max(0,r+s-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function c(t){return t}var h,d,l=Array.prototype.map,m=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function p(t){var r,a,i=void 0===t.grouping||void 0===t.thousands?c:(r=l.call(t.grouping,Number),a=t.thousands+"",function(t,e){for(var n=t.length,o=[],i=0,s=r[0],c=0;n>0&&s>0&&(c+s+1>e&&(s=Math.max(1,e-c)),o.push(t.substring(n-=s,n+s)),!((c+=s+1)>e));)s=r[i=(i+1)%r.length];return o.reverse().join(a)}),u=void 0===t.currency?"":t.currency[0]+"",h=void 0===t.currency?"":t.currency[1]+"",d=void 0===t.decimal?".":t.decimal+"",p=void 0===t.numerals?c:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(l.call(t.numerals,String)),g=void 0===t.percent?"%":t.percent+"",f=void 0===t.minus?"-":t.minus+"",w=void 0===t.nan?"NaN":t.nan+"";function b(t){var e=(t=o(t)).fill,r=t.align,a=t.sign,c=t.symbol,l=t.zero,b=t.width,y=t.comma,v=t.precision,S=t.trim,k=t.type;"n"===k?(y=!0,k="g"):s[k]||(void 0===v&&(v=12),S=!0,k="g"),(l||"0"===e&&"="===r)&&(l=!0,e="0",r="=");var A="$"===c?u:"#"===c&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",M="$"===c?h:/[%p]/.test(k)?g:"",q=s[k],x=/[defgprs%]/.test(k);function T(t){var o,s,c,u=A,h=M;if("c"===k)h=q(t)+h,t="";else{var g=(t=+t)<0||1/t<0;if(t=isNaN(t)?w:q(Math.abs(t),v),S&&(t=function(t){t:for(var e,n=t.length,r=1,o=-1;r<n;++r)switch(t[r]){case".":o=e=r;break;case"0":0===o&&(o=r),e=r;break;default:if(!+t[r])break t;o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(e+1):t}(t)),g&&0==+t&&"+"!==a&&(g=!1),u=(g?"("===a?a:f:"-"===a||"("===a?"":a)+u,h=("s"===k?m[8+n/3]:"")+h+(g&&"("===a?")":""),x)for(o=-1,s=t.length;++o<s;)if(48>(c=t.charCodeAt(o))||c>57){h=(46===c?d+t.slice(o+1):t.slice(o))+h,t=t.slice(0,o);break}}y&&!l&&(t=i(t,1/0));var T=u.length+t.length+h.length,R=T<b?new Array(b-T+1).join(e):"";switch(y&&l&&(t=i(R+t,R.length?b-h.length:1/0),R=""),r){case"<":t=u+t+h+R;break;case"=":t=u+R+t+h;break;case"^":t=R.slice(0,T=R.length>>1)+u+t+h+R.slice(T);break;default:t=R+u+t+h}return p(t)}return v=void 0===v?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),T.toString=function(){return t+""},T}return{format:b,formatPrefix:function(t,n){var r,a=b(((t=o(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor((r=n,((r=e(Math.abs(r)))?r[1]:NaN)/3)))),s=Math.pow(10,-i),c=m[8+i/3];return function(t){return a(s*t)+c}}}}h=p({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),d=h.format,h.formatPrefix;d(",.1f");function g(){return window.location!==window.parent.location?document.referrer:document.location.href}function f(){const t=g();console.log(t),console.log(t.includes("https://www.smh.com.au"));return t.includes("https://www.smh.com.au")?"smh.com.au":t.includes("https://www.theage.com.au")?"theage.com.au":t.includes("https://www.watoday.com.au")?"watoday.com.au":(t.includes("https://www.brisbanetimes.com.au"),"smh.com.au")}function w(t,e,n){const r=encodeURIComponent(n)+"%20"+encodeURIComponent(t);return"mailto:?subject="+encodeURIComponent(e)+"&body="+r}function b(t){const e={"smh.com.au":"193677504039845","canberratimes.com.au":"106020559517129","brisbanetimes.com.au":"107082829404370","theage.com.au":"230318243699378","watoday.com.au":"254346064617808"};for(let n in e)if(t&&t.indexOf(n)>=0)return e[n];return"107082829404370"}function y(t){return"https://www.reddit.com/submit?url="+encodeURIComponent(t)}function v(t){const e={theage:"The Age",smh:"The Sydney Morning Herald",brisbanetimes:"The Brisbane Times",watoday:"WA Today",canberratimes:"The Canberra Times"};for(let n in e)if(t&&t.indexOf(n)>=0)return e[n];return"The Brisbane Times"}function S(t){const e={"smh.com.au":"smh","theage.com.au":"theage","watoday.com.au":"watoday","brisbanetimes.com.au":"smh","canberratimes.com.au":"canberratimes","goodfood.com.au":"goodfood","dailylife.com.au":"dailylife","domain.com.au":"domain"};for(let n in e)if(t&&t.indexOf(n)>=0)return e[n];return"smh"}function k(t,e,n){return`https://twitter.com/share?url=${encodeURIComponent(t)}${e?"&text="+e:""}&via=${n}`}function A(t,e,n){return"https://wa.me/?text="+encodeURIComponent(e+" | "+n+" - "+t)}function M(t){const e=t.target.closest(".email-share-button"),n=e||t.target,r=n.getAttribute("data-share-link"),o=n.getAttribute("data-share-title"),a=n.getAttribute("data-share-description");r&&o&&a||console.error("Email share buttons require link, title and description data-* attributes. One of these is missing on the event target:",n,"As such, no share attempt was made.");const i=w(r,o,a);window.open(i,"_top")}function q(t){const e=t.target.closest(".facebook-share-button"),n=e||t.target,r=n.getAttribute("data-share-link"),o=n.getAttribute("data-share-description"),a=n.getAttribute("data-share-hashtag");if(!r)return void console.error("Facebook share buttons require a `data-share-link` attribute. None was found on the event target:",n,"As such, no share attempt was made.");let i="https://www.facebook.com/sharer/sharer.php?display=popup&u="+encodeURIComponent(r);o&&(i+="&quote="+encodeURIComponent(o)),a&&(i+="&hashtag="+encodeURIComponent("#"+a)),window.open(i,"sharer","toolbar=0,status=0,resizable=1,width=626,height=436")}function x(t){const e=t.target.closest(".reddit-share-button"),n=e||t.target,r=n.getAttribute("data-share-link");if(!r)return void console.error("Reddit share buttons require a `data-share-link` attribute. None was found on the event target:",n,"As such, no share attempt was made.");const o=y(r);window.open(o,"redditShareDialog","width=626,height=436,scrollbars=1")}function T(t){const e=S(f()),n=t.target.closest(".twitter-share-button"),r=n||t.target,o=r.getAttribute("data-share-link"),a=r.getAttribute("data-share-description");if(!o)return void console.error("Twitter share buttons require a `data-share-link` attribute. None was found on the event target:",r,"As such, no share attempt was made.");const i=k(o,a,e);window.open(i,"twitterShareDialog","width=626,height=436,scrollbars=1")}function R(t){const e=t.target.closest(".whatsapp-share-button"),n=e||t.target,r=n.getAttribute("data-share-link"),o=n.getAttribute("data-share-title"),a=n.getAttribute("data-share-description");if(!r||!o||!a)return void console.error("WhatsApp share buttons require link, title and description data-* attributes. One of these is missing on the event target:",n,"As such, no share attempt was made.");const i=A(r,o,a);window.open(i,"whatsAppShareDialog","width=626,height=436,scrollbars=1")}function C(){var t,e,n,r,o;window.fbAsyncInit=function(){const t=f();FB.init({appId:b(t),xfbml:!0,version:"v2.3"})},t=document,e="script",n="facebook-jssdk",o=t.getElementsByTagName(e)[0],t.getElementById(n)||((r=t.createElement(e)).id=n,r.src="//connect.facebook.net/en_US/sdk.js",o.parentNode.insertBefore(r,o))}function I({title:t,description:e,url:n,keyWords:r,author:o}){t&&e||console.error("[ERR] Setup sharing metadata: Required values missing. Sharing metadata requires title, description and url properties, at minimum.");const a=f();document.head.querySelector("[property='fb:app_id']").content=getFacebookAppId(a),document.head.querySelector("[property='og:title']").content=t,document.head.querySelector("[property='og:url']").content=n||g(),document.head.querySelector("[property='og:description']").content=e,document.head.querySelector("[property='og:site_name']").content=u.getSiteName(a),document.head.querySelector("[name='twitter:site']").content=S(a),document.head.querySelector("[name='twitter:title']").content=t,document.head.querySelector("[name='twitter:description']").content=e,document.head.querySelector("[name='twitter:creator']").content=S(a),document.head.querySelector("[name='twitter:url']").content=n||g(),document.head.querySelector("[name='description']").content=e,document.head.querySelector("[name='news_keywords']").content=r,document.head.querySelector("[itemprop='name']").content=e,document.head.querySelector("[itemprop='description']").content=e,document.head.querySelector("[itemprop='author']").content=o?o.join(", "):"",document.head.querySelector("[rel='canonical']").href=n||g(),document.head.querySelector("[rel='standout']").href=n||g()}var N={getCurrentPageDomain:f,getEmailShareLink:w,getFacebookAppId:b,getRedditShareLink:y,getSiteName:v,getTwitterHandle:S,getTwitterShareLink:k,getWhatsAppShareLink:A,handleEmailShare:M,handleFacebookShare:q,handleRedditShare:x,handleTwitterShare:T,handleWhatsAppShare:R,setupFacebookSharingLibrary:C,setupSharingMetadata:I};return t.default=N,t.getCurrentPageDomain=f,t.getEmailShareLink=w,t.getFacebookAppId=b,t.getRedditShareLink=y,t.getSiteName=v,t.getTwitterHandle=S,t.getTwitterShareLink=k,t.getWhatsAppShareLink=A,t.handleEmailShare=M,t.handleFacebookShare=q,t.handleRedditShare=x,t.handleTwitterShare=T,t.handleWhatsAppShare=R,t.setupFacebookSharingLibrary=C,t.setupSharingMetadata=I,t}({});
